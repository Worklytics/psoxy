---
allowAllEndpoints: false
endpoints:
  - pathRegex: "^/calendar/v3/calendars/[^/]*?$"
    transforms:
      - !<redact>
        jsonPaths:
          - "$.summary"
      - !<pseudonymize>
        jsonPaths:
          - "$.id"
        encoding: "JSON"
  - pathRegex: "^/calendar/v3/calendars/[^/]*?/events[^/]*"
    transforms:
      - !<pseudonymize>
        jsonPaths:
          - "$..email"
        encoding: "JSON"
      - !<redact>
        jsonPaths:
          - "$..displayName"
          - "$.summary"
          - "$.items[*].extendedProperties.private"
          - "$.items[*].summary"
          - "$.items[*].conferenceData.entryPoints[*]['accessCode','password','passcode','pin']"
      - !<filterTokenByRegex>
        jsonPaths:
          - "$.items[*].description"
        delimiter: "\\s+"
        filters:
          - "https://[^.]+\\.zoom\\.us/.*"
      - !<redactRegexMatches>
        jsonPaths:
          - "$.items[*].description"
          - "$.items[*].conferenceData.entryPoints[*].uri"
        redactions:
          - "(?i)pwd=[^&]*"
  - pathRegex: "^/calendar/v3/calendars/[^/]*?/events/.*"
    transforms:
      - !<redact>
        jsonPaths:
          - "$..displayName"
          - "$.summary"
          - "$.conferenceData.entryPoints[*]['accessCode','password','passcode','pin']"
      - !<filterTokenByRegex>
        jsonPaths:
          - "$.description"
        delimiter: "\\s+"
        filters:
          - "https://[^.]+\\.zoom\\.us/.*"
      - !<redactRegexMatches>
        jsonPaths:
          - "$.description"
          - "$.conferenceData.entryPoints[*].uri"
        redactions:
          - "(?i)pwd=[^&]*"
      - !<pseudonymize>
        jsonPaths:
          - "$..email"
        encoding: "JSON"
  - pathRegex: "^/calendar/v3/users/[^/]*?/settings.*"
