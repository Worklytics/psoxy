columnsToPseudonymize:
  - "EMPLOYEE_ID"
  - "EMPLOYEE_EMAIL"
  - "MANAGER_ID"
fieldsToTransform:
  EMPLOYEE_EMAIL:
    newName: GITHUB_USERNAME
    transforms:
      - javaRegExpReplace:
          regExp: "(.*)@.*____$1"
          replace: "$1"
      - javaRegExpReplace:
          regExp: "^([a-z]{3})(.+)$"
          replace: "$1_$2_ghsuffix"
      - javaRegExpReplace:
          regExp: "^([a-z]{3})$"
          replace: "$1_ghsuffix"
      - pseudonymize: true
  EMPLOYEE_EMAIL_TO_GH_ALTERNATIVE:
    sourceColumn: EMPLOYEE_EMAIL
    newName: GITHUB_USERNAME_ALTERNATIVE
    transforms:
      - javaRegExpReplace:
          regExp: "(.*)@.*____$1"
          replace: "$1"
      - javaRegExpReplace:
          regExp: "^([a-z]{3})(.+)$"
          replace: "$1_$2_ghsuffix"
      - javaRegExpReplace:
          regExp: "^([a-z]{3})$"
          replace: "$1_ghsuffix"
      - pseudonymize: true
  EMPLOYEE_EMAIL_TO_GH_SKIP_PSEUDONYMIZE:
    sourceColumn: EMPLOYEE_EMAIL
    newName: GITHUB_USERNAME_CLEARTEXT
    transforms:
      - javaRegExpReplace:
          regExp: "(.*)@.*"
          replace: "$1"
      - javaRegExpReplace:
          regExp: "^([a-z]{3})(.+)$"
          replace: "$1_$2_ghsuffix"
      - javaRegExpReplace:
          regExp: "^([a-z]{3})$"
          replace: "$1_ghsuffix"
      - pseudonymize: false
