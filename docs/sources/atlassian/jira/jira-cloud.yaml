---
endpoints:
  - pathTemplate: "/ex/jira/{cloudId}/rest/api/{apiVersion}/group/bulk"
    allowedQueryParams:
      - "startAt"
      - "maxResults"
    transforms:
      - !<redact>
        jsonPaths:
          - "$..name"
  - pathTemplate: "/ex/jira/{cloudId}/rest/api/{apiVersion}/group/member"
    allowedQueryParams:
      - "startAt"
      - "maxResults"
      - "groupId"
      - "groupName"
      - "includeInactiveUsers"
    transforms:
      - !<redact>
        jsonPaths:
          - "$.values[*].self"
          - "$.values[*].avatarUrls"
          - "$.values[*].displayName"
          - "$.values[*].name"
      - !<pseudonymize>
        jsonPaths:
          - "$.values[*].accountId"
          - "$.values[*].emailAddress"
        encoding: "JSON"
  - pathTemplate: "/ex/jira/{cloudId}/rest/api/3/search/jql"
    allowedQueryParams:
      - "jql"
      - "fields"
      - "nextPageToken"
      - "maxResults"
    transforms:
      - !<redact>
        jsonPaths:
          - "$.issues[*]..description"
          - "$.issues[*]..iconUrl"
          - "$.issues[*]..name"
          - "$.issues[*]..avatarUrls"
          - "$.issues[*].fields..self"
          - "$.issues[*]..displayName"
          - "$.issues[*]..comment"
          - "$..displayName"
      - !<pseudonymize>
        jsonPaths:
          - "$.issues[*]..accountId"
          - "$.issues[*]..emailAddress"
          - "$.issues[*]..body..id"
        encoding: "JSON"
    responseSchema:
      type: "object"
      properties:
        isLast:
          type: "boolean"
        issues:
          type: "array"
          items:
            type: "object"
            properties:
              changelog:
                type: "object"
                properties:
                  histories:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        author:
                          type: "object"
                          properties:
                            accountId:
                              type: "string"
                            accountType:
                              type: "string"
                            active:
                              type: "boolean"
                            emailAddress:
                              type: "string"
                            timeZone:
                              type: "string"
                        created:
                          type: "string"
                        id:
                          type: "string"
                        items:
                          type: "array"
                          items:
                            type: "object"
                            properties:
                              field:
                                type: "string"
                              fieldtype:
                                type: "string"
              fields:
                type: "object"
                properties:
                  aggregateprogress:
                    type: "object"
                    properties:
                      progress:
                        type: "integer"
                      total:
                        type: "integer"
                  assignee:
                    type: "object"
                    properties:
                      accountId:
                        type: "string"
                      accountType:
                        type: "string"
                      active:
                        type: "boolean"
                      emailAddress:
                        type: "string"
                      timeZone:
                        type: "string"
                  attachment:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        author:
                          type: "object"
                          properties:
                            accountId:
                              type: "string"
                            accountType:
                              type: "string"
                            active:
                              type: "boolean"
                            emailAddress:
                              type: "string"
                            timeZone:
                              type: "string"
                        created:
                          type: "string"
                        id:
                          type: "string"
                        size:
                          type: "integer"
                  comment:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        author:
                          type: "object"
                          properties:
                            accountId:
                              type: "string"
                            accountType:
                              type: "string"
                            active:
                              type: "boolean"
                            emailAddress:
                              type: "string"
                            timeZone:
                              type: "string"
                        created:
                          type: "string"
                        id:
                          type: "string"
                        updateAuthor:
                          type: "object"
                          properties:
                            accountId:
                              type: "string"
                            accountType:
                              type: "string"
                            active:
                              type: "boolean"
                            emailAddress:
                              type: "string"
                            timeZone:
                              type: "string"
                        updated:
                          type: "string"
                        visibility:
                          type: "object"
                          properties:
                            identifier:
                              type: "string"
                            type:
                              type: "string"
                            value:
                              type: "string"
                  created:
                    type: "string"
                  creator:
                    type: "object"
                    properties:
                      accountId:
                        type: "string"
                      accountType:
                        type: "string"
                      active:
                        type: "boolean"
                      emailAddress:
                        type: "string"
                      timeZone:
                        type: "string"
                  duedate:
                    type: "string"
                  issuelinks:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        id:
                          type: "string"
                        inwardIssue:
                          type: "object"
                          properties:
                            id:
                              type: "string"
                        outwardIssue:
                          type: "object"
                          properties:
                            id:
                              type: "string"
                        type:
                          type: "object"
                          properties:
                            id:
                              type: "string"
                            inward:
                              type: "string"
                            outward:
                              type: "string"
                  issuetype:
                    type: "object"
                    properties:
                      hierarchyLevel:
                        type: "integer"
                      id:
                        type: "string"
                      subtask:
                        type: "boolean"
                  lastViewed:
                    type: "string"
                  parent:
                    type: "object"
                    properties:
                      fields:
                        type: "object"
                        properties:
                          issuetype:
                            type: "object"
                            properties:
                              hierarchyLevel:
                                type: "integer"
                              id:
                                type: "string"
                              subtask:
                                type: "boolean"
                          priority:
                            type: "object"
                            properties:
                              id:
                                type: "string"
                              name:
                                type: "string"
                          status:
                            type: "object"
                            properties:
                              id:
                                type: "string"
                              name:
                                type: "string"
                              statusCategory:
                                type: "object"
                                properties:
                                  colorName:
                                    type: "string"
                                  id:
                                    type: "integer"
                                  key:
                                    type: "string"
                                  name:
                                    type: "string"
                      id:
                        type: "string"
                  progress:
                    type: "object"
                    properties:
                      progress:
                        type: "integer"
                      total:
                        type: "integer"
                  project:
                    type: "object"
                    properties:
                      id:
                        type: "string"
                      insight:
                        type: "object"
                        properties:
                          lastIssueUpdateTime:
                            type: "string"
                          totalIssueCount:
                            type: "integer"
                      projectCategory:
                        type: "object"
                        properties:
                          id:
                            type: "string"
                      projectTypeKey:
                        type: "string"
                      simplified:
                        type: "boolean"
                      style:
                        type: "string"
                  reporter:
                    type: "object"
                    properties:
                      accountId:
                        type: "string"
                      accountType:
                        type: "string"
                      active:
                        type: "boolean"
                      emailAddress:
                        type: "string"
                      timeZone:
                        type: "string"
                  resolutiondate:
                    type: "string"
                  status:
                    type: "object"
                    properties:
                      id:
                        type: "string"
                      name:
                        type: "string"
                      statusCategory:
                        type: "object"
                        properties:
                          colorName:
                            type: "string"
                          id:
                            type: "integer"
                          key:
                            type: "string"
                          name:
                            type: "string"
                  statuscategorychangedate:
                    type: "string"
                  sub-tasks:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        id:
                          type: "string"
                        inwardIssue:
                          type: "object"
                          properties:
                            id:
                              type: "string"
                        outwardIssue:
                          type: "object"
                          properties:
                            id:
                              type: "string"
                        type:
                          type: "object"
                          properties:
                            id:
                              type: "string"
                            inward:
                              type: "string"
                            outward:
                              type: "string"
                  timeTracking:
                    type: "object"
                    properties:
                      originalEstimate:
                        type: "string"
                      originalEstimateSeconds:
                        type: "integer"
                      remainingEstimate:
                        type: "string"
                      remainingEstimateSeconds:
                        type: "integer"
                      timeSpent:
                        type: "string"
                      timeSpentSeconds:
                        type: "integer"
                  timespent:
                    type: "integer"
                  updated:
                    type: "integer"
                  votes:
                    type: "object"
                    properties:
                      hasVoted:
                        type: "boolean"
                      votes:
                        type: "integer"
                  watches:
                    type: "object"
                    properties:
                      isWatching:
                        type: "boolean"
                      watchCount:
                        type: "integer"
                      watchers:
                        type: "array"
                        items:
                          type: "object"
                          properties:
                            accountId:
                              type: "string"
                            accountType:
                              type: "string"
                            active:
                              type: "boolean"
                            emailAddress:
                              type: "string"
                            timeZone:
                              type: "string"
                  worklog:
                    type: "object"
                    properties:
                      worklogs:
                        type: "array"
                        items:
                          type: "object"
                          properties:
                            author:
                              type: "object"
                              properties:
                                accountId:
                                  type: "string"
                                accountType:
                                  type: "string"
                                active:
                                  type: "boolean"
                                emailAddress:
                                  type: "string"
                                timeZone:
                                  type: "string"
                            created:
                              type: "string"
                            id:
                              type: "string"
                            issueId:
                              type: "string"
                            started:
                              type: "string"
                            timeSpent:
                              type: "string"
                            timeSpentSeconds:
                              type: "integer"
                            updateAuthor:
                              type: "object"
                              properties:
                                accountId:
                                  type: "string"
                                accountType:
                                  type: "string"
                                active:
                                  type: "boolean"
                                emailAddress:
                                  type: "string"
                                timeZone:
                                  type: "string"
                            updated:
                              type: "string"
                            visibility:
                              type: "object"
                              properties:
                                identifier:
                                  type: "string"
                                type:
                                  type: "string"
                                value:
                                  type: "string"
              id:
                type: "string"
              self:
                type: "string"
        maxResults:
          type: "integer"
        nextPageToken:
          type: "string"
        total:
          type: "integer"
  - pathTemplate: "/ex/jira/{cloudId}/rest/api/{apiVersion}/issue/{issueId}/changelog"
    allowedQueryParams:
      - "startAt"
      - "maxResults"
    transforms:
      - !<redact>
        jsonPaths:
          - "$.values[*]..avatarUrls"
          - "$.values[*]..self"
          - "$.values[*]..displayName"
          - "$.values[*].items[*].from"
          - "$.values[*].items[*].to"
          - "$.values[*].items[*].fromString"
          - "$.values[*].items[*].toString"
      - !<pseudonymize>
        jsonPaths:
          - "$.values[*]..accountId"
          - "$.values[*]..emailAddress"
          - "$.values[*]..tmpFromAccountId"
          - "$.values[*]..tmpToAccountId"
        encoding: "JSON"
  - pathTemplate: "/ex/jira/{cloudId}/rest/api/3/issue/{issueId}/comment"
    allowedQueryParams:
      - "startAt"
      - "maxResults"
    transforms:
      - !<redact>
        jsonPaths:
          - "$.comments[*]..avatarUrls"
          - "$.comments[*].author..self"
          - "$.comments[*].updateAuthor..self"
          - "$.comments[*]..displayName"
          - "$.comments[*]..text"
          - "$.comments[*]..renderedBody"
      - !<pseudonymize>
        jsonPaths:
          - "$.comments[*]..accountId"
          - "$.comments[*].body..id"
          - "$.comments[*]..emailAddress"
        encoding: "JSON"
  - pathTemplate: "/ex/jira/{cloudId}/rest/api/3/issue/{issueId}/worklog"
    allowedQueryParams:
      - "startAt"
      - "maxResults"
    transforms:
      - !<redact>
        jsonPaths:
          - "$.worklogs[*]..avatarUrls"
          - "$.worklogs[*].author..self"
          - "$.worklogs[*].updateAuthor..self"
          - "$.worklogs[*]..displayName"
          - "$.worklogs[*]..text"
          - "$.worklogs[*]..summary"
      - !<pseudonymize>
        jsonPaths:
          - "$.worklogs[*]..accountId"
          - "$.worklogs[*]..emailAddress"
          - "$.worklogs[*]..comment..id"
        encoding: "JSON"
  - pathTemplate: "/ex/jira/{cloudId}/rest/api/3/issue/{issueId}"
    allowedQueryParams:
      - "fields"
    transforms:
      - !<redact>
        jsonPaths:
          - "$..description"
          - "$..iconUrl"
          - "$..name"
          - "$..avatarUrls"
          - "$.fields..self"
          - "$..displayName"
          - "$..comment"
          - "$..attachment[*]..filename"
          - "$..attachment[*]..content"
          - "$..summary"
      - !<pseudonymize>
        jsonPaths:
          - "$..accountId"
          - "$..emailAddress"
          - "$..body..id"
        encoding: "JSON"
    responseSchema:
      type: "object"
      properties:
        changelog:
          type: "object"
          properties:
            histories:
              type: "array"
              items:
                type: "object"
                properties:
                  author:
                    type: "object"
                    properties:
                      accountId:
                        type: "string"
                      accountType:
                        type: "string"
                      active:
                        type: "boolean"
                      emailAddress:
                        type: "string"
                      timeZone:
                        type: "string"
                  created:
                    type: "string"
                  id:
                    type: "string"
                  items:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        field:
                          type: "string"
                        fieldtype:
                          type: "string"
        fields:
          type: "object"
          properties:
            aggregateprogress:
              type: "object"
              properties:
                progress:
                  type: "integer"
                total:
                  type: "integer"
            assignee:
              type: "object"
              properties:
                accountId:
                  type: "string"
                accountType:
                  type: "string"
                active:
                  type: "boolean"
                emailAddress:
                  type: "string"
                timeZone:
                  type: "string"
            attachment:
              type: "array"
              items:
                type: "object"
                properties:
                  author:
                    type: "object"
                    properties:
                      accountId:
                        type: "string"
                      accountType:
                        type: "string"
                      active:
                        type: "boolean"
                      emailAddress:
                        type: "string"
                      timeZone:
                        type: "string"
                  created:
                    type: "string"
                  id:
                    type: "string"
                  size:
                    type: "integer"
            comment:
              type: "array"
              items:
                type: "object"
                properties:
                  author:
                    type: "object"
                    properties:
                      accountId:
                        type: "string"
                      accountType:
                        type: "string"
                      active:
                        type: "boolean"
                      emailAddress:
                        type: "string"
                      timeZone:
                        type: "string"
                  created:
                    type: "string"
                  id:
                    type: "string"
                  updateAuthor:
                    type: "object"
                    properties:
                      accountId:
                        type: "string"
                      accountType:
                        type: "string"
                      active:
                        type: "boolean"
                      emailAddress:
                        type: "string"
                      timeZone:
                        type: "string"
                  updated:
                    type: "string"
                  visibility:
                    type: "object"
                    properties:
                      identifier:
                        type: "string"
                      type:
                        type: "string"
                      value:
                        type: "string"
            created:
              type: "string"
            creator:
              type: "object"
              properties:
                accountId:
                  type: "string"
                accountType:
                  type: "string"
                active:
                  type: "boolean"
                emailAddress:
                  type: "string"
                timeZone:
                  type: "string"
            duedate:
              type: "string"
            issuelinks:
              type: "array"
              items:
                type: "object"
                properties:
                  id:
                    type: "string"
                  inwardIssue:
                    type: "object"
                    properties:
                      id:
                        type: "string"
                  outwardIssue:
                    type: "object"
                    properties:
                      id:
                        type: "string"
                  type:
                    type: "object"
                    properties:
                      id:
                        type: "string"
                      inward:
                        type: "string"
                      outward:
                        type: "string"
            issuetype:
              type: "object"
              properties:
                hierarchyLevel:
                  type: "integer"
                id:
                  type: "string"
                subtask:
                  type: "boolean"
            lastViewed:
              type: "string"
            parent:
              type: "object"
              properties:
                fields:
                  type: "object"
                  properties:
                    issuetype:
                      type: "object"
                      properties:
                        hierarchyLevel:
                          type: "integer"
                        id:
                          type: "string"
                        subtask:
                          type: "boolean"
                    priority:
                      type: "object"
                      properties:
                        id:
                          type: "string"
                        name:
                          type: "string"
                    status:
                      type: "object"
                      properties:
                        id:
                          type: "string"
                        name:
                          type: "string"
                        statusCategory:
                          type: "object"
                          properties:
                            colorName:
                              type: "string"
                            id:
                              type: "integer"
                            key:
                              type: "string"
                            name:
                              type: "string"
                id:
                  type: "string"
            progress:
              type: "object"
              properties:
                progress:
                  type: "integer"
                total:
                  type: "integer"
            project:
              type: "object"
              properties:
                id:
                  type: "string"
                insight:
                  type: "object"
                  properties:
                    lastIssueUpdateTime:
                      type: "string"
                    totalIssueCount:
                      type: "integer"
                projectCategory:
                  type: "object"
                  properties:
                    id:
                      type: "string"
                projectTypeKey:
                  type: "string"
                simplified:
                  type: "boolean"
                style:
                  type: "string"
            reporter:
              type: "object"
              properties:
                accountId:
                  type: "string"
                accountType:
                  type: "string"
                active:
                  type: "boolean"
                emailAddress:
                  type: "string"
                timeZone:
                  type: "string"
            resolutiondate:
              type: "string"
            status:
              type: "object"
              properties:
                id:
                  type: "string"
                name:
                  type: "string"
                statusCategory:
                  type: "object"
                  properties:
                    colorName:
                      type: "string"
                    id:
                      type: "integer"
                    key:
                      type: "string"
                    name:
                      type: "string"
            statuscategorychangedate:
              type: "string"
            sub-tasks:
              type: "array"
              items:
                type: "object"
                properties:
                  id:
                    type: "string"
                  inwardIssue:
                    type: "object"
                    properties:
                      id:
                        type: "string"
                  outwardIssue:
                    type: "object"
                    properties:
                      id:
                        type: "string"
                  type:
                    type: "object"
                    properties:
                      id:
                        type: "string"
                      inward:
                        type: "string"
                      outward:
                        type: "string"
            timeTracking:
              type: "object"
              properties:
                originalEstimate:
                  type: "string"
                originalEstimateSeconds:
                  type: "integer"
                remainingEstimate:
                  type: "string"
                remainingEstimateSeconds:
                  type: "integer"
                timeSpent:
                  type: "string"
                timeSpentSeconds:
                  type: "integer"
            timespent:
              type: "integer"
            updated:
              type: "integer"
            votes:
              type: "object"
              properties:
                hasVoted:
                  type: "boolean"
                votes:
                  type: "integer"
            watches:
              type: "object"
              properties:
                isWatching:
                  type: "boolean"
                watchCount:
                  type: "integer"
                watchers:
                  type: "array"
                  items:
                    type: "object"
                    properties:
                      accountId:
                        type: "string"
                      accountType:
                        type: "string"
                      active:
                        type: "boolean"
                      emailAddress:
                        type: "string"
                      timeZone:
                        type: "string"
            worklog:
              type: "object"
              properties:
                worklogs:
                  type: "array"
                  items:
                    type: "object"
                    properties:
                      author:
                        type: "object"
                        properties:
                          accountId:
                            type: "string"
                          accountType:
                            type: "string"
                          active:
                            type: "boolean"
                          emailAddress:
                            type: "string"
                          timeZone:
                            type: "string"
                      created:
                        type: "string"
                      id:
                        type: "string"
                      issueId:
                        type: "string"
                      started:
                        type: "string"
                      timeSpent:
                        type: "string"
                      timeSpentSeconds:
                        type: "integer"
                      updateAuthor:
                        type: "object"
                        properties:
                          accountId:
                            type: "string"
                          accountType:
                            type: "string"
                          active:
                            type: "boolean"
                          emailAddress:
                            type: "string"
                          timeZone:
                            type: "string"
                      updated:
                        type: "string"
                      visibility:
                        type: "object"
                        properties:
                          identifier:
                            type: "string"
                          type:
                            type: "string"
                          value:
                            type: "string"
        id:
          type: "string"
        self:
          type: "string"
  - pathTemplate: "/ex/jira/{cloudId}/rest/api/{apiVersion}/users"
    allowedQueryParams:
      - "startAt"
      - "maxResults"
    transforms:
      - !<redact>
        jsonPaths:
          - "$..self"
          - "$..avatarUrls"
          - "$..displayName"
      - !<pseudonymize>
        jsonPaths:
          - "$..accountId"
          - "$..emailAddress"
        encoding: "JSON"
  - pathTemplate: "/ex/jira/{cloudId}/rest/api/{apiVersion}/project/search"
    allowedQueryParams:
      - "startAt"
      - "maxResults"
    transforms:
      - !<redact>
        jsonPaths:
          - "$.values[*]..avatarUrls"
          - "$.values[*]..self"
          - "$.values[*]..displayName"
          - "$.values[*]..leadUserName"
          - "$.values[*]..description"
      - !<pseudonymize>
        jsonPaths:
          - "$.values[*]..accountId"
          - "$.values[*]..emailAddress"
          - "$.values[*]..email"
          - "$.values[*]..leadAccountId"
        encoding: "JSON"
  - pathTemplate: "/oauth/token/accessible-resources"
    transforms:
      - !<redact>
        jsonPaths:
          - "$..name"
          - "$..scopes"
          - "$..avatarUrl"
